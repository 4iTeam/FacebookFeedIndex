var Indexer;!function(t,i,n){Indexer=n.extend({events:{"click .index-btn":"run"},initialize:function(t){var i=t.url||this.$el.data("url");this.loader=new drv.Support.PageLoader(i),this.debug=!!t.debug,this.id=this.$el.data("id"),this.action=t.action||this.$el.data("action"),this.$found=this.$(".items-found"),this.$loading=this.$(".loading_icon"),this.setup()},setup:function(){var t,i=this;this.loader.data({id:this.id,action:this.action}).nextKey("cursors.after").page(function(n){n.count&&(t=parseInt(i.$found.html())||0,t+=parseInt(n.count)||0,i.$found.html(t))}).done(function(t){console.log(t),t&&!i.debug&&(window.location.href=window.location.href)})},run:function(i){i.preventDefault(),t(i.currentTarget).prop("disabled","disabled"),this.$loading.removeClass("hide"),this.loader.run()}})}($,_,Backbone.View);